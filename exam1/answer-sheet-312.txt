ソフトウェア1 2017年度 試験解答控え

学生証番号	J4-170874
氏名 		海野良介

—————
設問1 [易しい問題] ポインタと配列
—————
 int numbers[3];
 scanf("%d %d %d",&numbers[0], &numbers[1], &numbers[2]);
上記scanf関数内の&numbers[0], &numbers[1], &numbers[2]を「&」を使うことなく同じ動作を行う記述に書き換えよ．
scanf("%d %d %d", (1), (2), (3) );
ただし、解答にスペースは用いないこと。
例）1 + 1 = 2 →　1+1=2
（同じ動作とは標準入力からの3つの整数値が配列に代入されるような動作である．）
(1) numbers
(2) numbers+1
(3) numbers+2
※ 答えのみで良い

—————
設問2 [易しい問題] 乱数の生成
—————
ソースコード提出不要

0以上9以下の整数値をランダムに生成するために最も適切なコードを選べ

（　） rand()%10-1 
（○） rand()%10 
（　） rand()%10+1 
※ 答えのみで良い

—————
設問3 [易しいけど注意が必要な問題] switch-case文
—————
※ 答えのみで良い
main関数内に以下のようにプログラムを記述した．
    int a = 5;
    int total = a;
    printf("1-4までの数字を入力してね\n");
    scanf("%d", &a);
    switch(a){
        case 1:
            total += a;
        case 2:
            total += a;
        case 3:
            total += a;
        case 4:
            total += a;
    }
    printf("%d\n", total);

標準入力で2を入力したときにprintfで出力される値は何か？どうしてそうなるか理由とともに説明せよ． 
11が出力される。totalに始めにa=5が代入され、その後標準入力によって、aに格納されている値が2になる。switch文によってcase 2に入りbreakがないためcase 3及び4が実行されるため、2がtotalに計3回足される。したがって、最終的に出力されるtotalの値は11になる。
—————
設問4 [易しい問題] 文字列と配列
—————

以下のコードにおいて3つのprintfですべてMと表示させたい．
(1)〜(6)に入れるべき数字またはアルファベット１文字（c,d,sのいずれか）を答えよ．
#include <stdio.h>
char A[256] = {"GAME"};
char B[5][256] = {"G", "A", "M", "E", "GAME"};
int main()
{
    printf("%(1)\n", A[(2)]); //1つ目
    printf("%(3)\n", B[(4)]); //2つ目
    printf("%(5)\n", B[4][(6)]); //3つ目
    return 0;
}

(1)c (2)2 (3)s (4)2 (5)c (6)2
—————
設問5 最大公約数 gcm.c
—————

3つの整数5142121089, 50202019, 1298080777の最大公約数は
「7171717」である．

※ ソースコードは課題から提出せよ．

—————
設問6 三角形の面積 triangles.c
—————

https://itc-lms.ecc.u-tokyo.ac.jp/lms/mod/resource/view.php?id=219894
ファイルに保存されている
10万個の三角形の面積を求め，最大値，平均値，最小値を求めよ．
解答にあたっては，小数点第4位を切り捨てて点以下第3位まで答えれば良い．
（プログラムの中で切り捨て処理をする必要はない．）

最大: 4186.702
平均: 116.454
最小: 1.984
※ ソースコードは課題から提出せよ．

—————
設問7 数値に関する問題
—————

以下の(1)，(2) に答えよ．ソースコード要提出．

(1) 以下の手順でMAX = 1,000,000 以下の素数を求めるプログラムを作成し、以下の穴埋め問題に答えよ。
1. 素数のリストを格納するint型の配列 prime_list[500000] を用意する。
2. ある数kに対して、素数かどうかを判定する関数 is_prime() を定義する。
　kが2以上√k 以下の任意の素数で割り切れない場合にkは素数であると判定する。
3. 2以上MAX以下のすべての整数に対して素数かどうかを判定して素数をprime_listに格納する。

MAX = 1,000,000 以下の素数の数は「78498」であり、各素数の十進数における桁数の合計は「459970」である。

hint: 数値の桁数を求めるにはmath.hの log10 を使用する。
http://www.c-tipsref.com/reference/math/log10.html

(2) 暗号理論において、公開鍵には２個の素数の積が用いられる。２個の素数(同じものをも含む)の積のことを半素数と呼ぶ。MAX = 1,000,000以下のすべての半素数はMAX以下の任意の素数pとp以下の任意の素数qの積pqのうち、MAX以下のものとして列挙できる。MAX以下のすべての半素数を求めるプログラムを作成し、穴埋め問題に答えよ。

MAX = 1,000,000以下の半素数の数は「210035」であり、各半素数の十進数における桁数の合計は「1233871」である。 

—————
設問8 円の重なり
—————

ソースコード要提出

1辺の長さが10の正方形の紙に半径1の円形のシールを異なる場所にn枚貼る．シールは別のシールの上に重ねて貼ることもできる．この時，以下の設問（1）～（3）に答えよ．また，（1）から（3）を解いたプログラムも提出せよ．
円形のシールの中心については，正方形の左下を原点としたx, y座標を与える．ただし，円の中心が正方形の外に出ることはない．

（1）まず，2つの円形のシールが重なっているかどうかを判定するプログラムを作成し，以下の2つの円が重なっている場合は，o（半角のアルファベットo），重なっていない場合はx（半角のアルファベットx）と答えよ．ただし，2つの円が接しているときは，重なっているものとする．
・中心がx=3.14979, y=8.51743の円形のシールと中心がx=1.79500, y=8.59211の円形のシール：「　o　」
・中心がx=2.84021, y=5.41511の円形のシールと中心がx=4.70665, y=4.66125の円形のシール：「　x　」


2つの円が接しているかどうかの判断：
授業で取り上げたように，コンピュータは2進数で処理を行う都合により，丸め誤差が発生する．2つの円が接している場合にも，各々の中心の距離dが完全に2つの円の半径の合計rと一致することはない．そこで，誤差 を導入し，r - ε ≦ d ≦ r + εである場合は2つの円が接していると判定せよ．

（2）次に，2つの円形のシールの交点を求めるプログラムを作成し，以下の2つの円形のシールの交点を求めよ．
中心がx=3.14979, y=8.51743の円形のシールと中心がx=1.79500, y=8.59211の円形のシールの交点は，
x=2.43196,y=「　　　」とx=2.51283,y=「　　　」である．
y座標について小数点以下第6位を四捨五入して答えよ．交点算出の実装の際に下図の図1を参考にするとよい．

（3）最後に，（2）で作成した円の交点を計算するプログラムを利用して，正方形内で最も多くのシールが重なっている場所の枚数を求めよ．用いる円形のシールの中心のデータは，以下の15個とする．
シールが最も重なっている場所の枚数は「　　　」枚である．


—————
設問9 アピールなど
—————



